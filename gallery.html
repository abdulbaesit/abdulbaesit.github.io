<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gallery • basit</title>
    <link rel="icon" href="assets/icons/image.jpg" type="image/png" />
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800;900&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link rel="stylesheet" href="css/styles.css" />
    <style>
        /* Keep page lightweight; re-use site CSS for typography/colors */
        body {
            padding-top: 4rem;
        }
    </style>
</head>

<body>
    <nav class="navbar is-centered">
        <div class="container">
            <div class="navbar-brand">
                <div class="navbar-start">
                    <button class="theme-icon" id="theme-toggle">
                        <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"
                            style="display: none;">
                            <path
                                d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z" />
                        </svg>
                        <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 01.818.162z" />
                        </svg>
                    </button>
                    <div class="navbar-desktop-menu">
                        <a href="/" class="navbar-item">Home</a>
                        <a href="/#projects" class="navbar-item">Projects</a>
                        <a href="/#education" class="navbar-item">Education</a>
                        <a href="/#awards" class="navbar-item">Awards</a>
                        <a href="/gallery.html" class="navbar-item is-active">Gallery</a>
                        <a href="/#contact" class="navbar-item">Contact</a>
                    </div>
                </div>
                <div class="navbar-end">
                    <button class="navbar-burger" id="navbar-burger">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>
            </div>
            <div class="navbar-menu" id="navbar-menu">
                <div class="navbar-start">
                    <a href="/" class="navbar-item">Home</a>
                    <a href="/#projects" class="navbar-item">Projects</a>
                    <a href="/#education" class="navbar-item">Education</a>
                    <a href="/#awards" class="navbar-item">Awards</a>
                    <a href="/gallery.html" class="navbar-item is-active">Gallery</a>
                    <a href="/#contact" class="navbar-item">Contact</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Add animate-in so global section opacity:0 rule doesn't hide gallery -->
    <section class="section animate-in">
        <div class="container">
            <h1 class="title has-text-link is-4"># Gallery / تصاویر</h1>
            <p class="content is-small" style="margin-bottom: 1rem;">
                Media is loaded only on demand. HEIC files may not preview in some browsers; use Safari or download.
            </p>

            <div class="gallery-controls">
                <button class="gallery-btn" data-filter="all">All</button>
                <button class="gallery-btn" data-filter="image">Photos</button>
                <button class="gallery-btn" data-filter="video">Videos</button>
                <button id="load-media-btn" class="gallery-btn primary">Load Collection</button>
            </div>

            <div id="gallery-grid" class="gallery-grid" aria-live="polite"></div>
        </div>
    </section>

    <div id="lightbox" class="lightbox" aria-hidden="true" role="dialog">
        <button class="lightbox-close" aria-label="Close">✕</button>
        <button class="lightbox-nav lightbox-prev" aria-label="Previous">❮</button>
        <button class="lightbox-nav lightbox-next" aria-label="Next">❯</button>
        <div class="lightbox-content" id="lightbox-content"></div>
    </div>

    <script>
        // Theme sync and mobile menu logic
        document.addEventListener("DOMContentLoaded", () => {
            const savedTheme = localStorage.getItem("theme");
            const themeToggle = document.getElementById("theme-toggle");

            if (savedTheme) {
                document.documentElement.setAttribute("data-theme", savedTheme);
                updateThemeIcon(savedTheme);
            } else {
                const prefersDarkScheme = window.matchMedia("(prefers-color-scheme: dark)").matches;
                const systemTheme = prefersDarkScheme ? "dark" : "light";
                document.documentElement.setAttribute("data-theme", systemTheme);
                updateThemeIcon(systemTheme);
            }
        });

        function updateThemeIcon(theme) {
            const sunIcon = document.querySelector('.sun-icon');
            const moonIcon = document.querySelector('.moon-icon');

            if (theme === "dark") {
                sunIcon.style.display = "block";
                moonIcon.style.display = "none";
            } else {
                sunIcon.style.display = "none";
                moonIcon.style.display = "block";
            }
        }

        const themeToggleButton = document.getElementById("theme-toggle");
        if (themeToggleButton) {
            themeToggleButton.addEventListener("click", () => {
                const html = document.documentElement;
                const currentTheme = html.getAttribute("data-theme") || "light";
                const newTheme = currentTheme === "light" ? "dark" : "light";
                html.setAttribute("data-theme", newTheme);
                updateThemeIcon(newTheme);
                localStorage.setItem("theme", newTheme);
            });
        }

        const navbarBurger = document.getElementById("navbar-burger");
        const navbarMenu = document.getElementById("navbar-menu");

        if (navbarBurger && navbarMenu) {
            navbarBurger.addEventListener("click", () => {
                navbarMenu.classList.toggle("active");
                navbarBurger.classList.toggle("active");
            });

            const navbarItems = navbarMenu.querySelectorAll(".navbar-item");
            navbarItems.forEach(item => {
                item.addEventListener("click", () => {
                    navbarMenu.classList.remove("active");
                    navbarBurger.classList.remove("active");
                });
            });

            document.addEventListener("click", (e) => {
                if (!navbarBurger.contains(e.target) && !navbarMenu.contains(e.target)) {
                    navbarMenu.classList.remove("active");
                    navbarBurger.classList.remove("active");
                }
            });
        }
    </script>
    <!-- HEIC to JPEG converter (WASM) for cross-browser previews -->
    <script src="https://unpkg.com/heic2any/dist/heic2any.min.js"></script>
    <script src="js/gallery.js"></script>
</body>

</html>